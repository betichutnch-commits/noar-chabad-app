# תיעוד רכיבי מערכת - נוער חב"ד (בטיחות ומפעלים)

מסמך זה מרכז את כל הקומפוננטות (Rcomponents) והספריות המרכזיות במערכת, מטרתן ואופן השימוש בהן.
מטרת העל: שמירה על אחידות עיצובית, שימוש חוזר בקוד ומניעת שכפול.

---

## 1. רכיבי תשתית (UI Components)
**מיקום:** `components/ui/`
רכיבים גנריים המשמשים בכל דפי המערכת.

### `Button.tsx` (כפתור)
* **תיאור:** כפתור מעוצב אחיד לכל המערכת.
* **שימוש:** מחליף את כל תגיות ה-`<button>` הרגילות.
* **אפשרויות (Variants):**
    * `primary` (תכלת) - לפעולות ראשיות.
    * `secondary` (ירוק) - לפעולות חיוביות/שמירה.
    * `danger` (ורוד/אדום) - למחיקה או ביטול.
    * `dark` (שחור) - לכפתורי מנהל.
    * `outline` - כפתור שקוף עם מסגרת.
* **פיצ'רים:** תומך בטעינה (`isLoading`), אייקונים (`icon`) ועיצוב אחיד (Border Radius 2xl).

### `Input.tsx` (שדה קלט)
* **תיאור:** שדה הזנת טקסט חכם.
* **שימוש:** לכל הטפסים (הרשמה, יצירת טיול, פרופיל).
* **פיצ'רים:**
    * תמיכה ב-`readOnly` (רקע אפור).
    * מנגנון `password` מובנה (הצג/הסתר סיסמה).
    * אפשרות להוספת אייקון בתוך השדה.
    * פוקוס בצבע המותג (ורוד).

### `Modal.tsx` (חלון קופץ)
* **תיאור:** מנגנון ההודעות המרכזי של המערכת.
* **שימוש:** מחליף את `alert()` ו-`confirm()` של הדפדפן.
* **סוגים:**
    * `success` (ירוק) - אישור פעולה.
    * `error` (ורוד) - שגיאות מערכת.
    * `info` (תכלת) - מידע כללי.
    * `confirm` (צהוב) - בקשת אישור לפני פעולה (כמו מחיקה).

### `MultiSelectFilter.tsx` (סינון מרובה)
* **תיאור:** רכיב בחירה מרובה (Dropdown).
* **שימוש:** בדשבורד הראשי, לסינון לפי סוגי טיולים.

---

## 2. רכיבי מבנה (Layout Components)
**מיקום:** `components/layout/`
רכיבים הקובעים את השלד של הדף (תפריטים, כותרות).

### `Header.tsx` (סרגל עליון - משתמש)
* **תיאור:** החלק העליון בדפי המשתמש/רכז.
* **תפקיד:** מציג את כותרת הדף, לוגו המחלקה, ופרופיל המשתמש.
* **מיוחד:** מכיל את הפעמון (Bell) עם אינטגרציה לטבלת `notifications`.

### `Sidebar.tsx` (תפריט צד - משתמש)
* **תיאור:** תפריט הניווט הראשי לרכזים.
* **תפקיד:** מעבר בין דשבורד, טיול חדש, דואר נכנס וכו'.
* **רספונסיביות:** במובייל נפתח כ-Overlay, במחשב קבוע בצד ימין.

### `ManagerHeader.tsx` & `ManagerSidebar.tsx` (מנהל)
* **תיאור:** מקבילים לרכיבי המשתמש, אך מותאמים למנהלי מערכת.
* **מיוחד:** מציגים התראות על משתמשים חדשים הממתינים לאישור ופניות פתוחות.

---

## 3. רכיבי ליבה (Domain Components)
**מיקום:** `components/`
רכיבים המכילים את הלוגיקה העסקית של האפליקציה.

### `TripCard.tsx` (כרטיס טיול)
* **תיאור:** הקובייה שמציגה טיול בודד ברשימה.
* **שימוש:** בדשבורד ובמסך "הטיולים שלי".
* **פיצ'רים:**
    * תצוגת תאריך חכמה (למשל: "18-20/02").
    * סרגל "רכבת" המציג ויזואלית את שלבי הטיול.
    * תגית סטטוס (ממתין/מאושר).
    * כפתורי פעולה מהירים (עריכה/מחיקת טיוטה).

### `TripDetailsView.tsx` (תצוגת פרטי טיול מלאה)
* **תיאור:** הרכיב המרכזי והמורכב ביותר להצגת טיול.
* **שימוש חוזר:** משמש ב-3 מקומות שונים:
    1.  **רכז:** לצפייה בפרטים (קריאה בלבד/עריכה).
    2.  **מנהל:** לצורך אישור הטיול.
    3.  **קישור שיתוף:** לצפייה חיצונית (ללא מידע רגיש).
* **פיצ'רים:** טבלת לו"ז מלאה, הורדת קבצים, פרטי אנשי צוות, סטטוס אישורים.

---

## 4. ספריות עזר (Lib)
**מיקום:** `lib/`
קבצי לוגיקה ונתונים (ללא עיצוב).

* **`constants.ts`:**
    * מכיל את כל הנתונים הקבועים: רשימת ערים, סוגי טיולים, צבעי מחלקות, קטגוריות ללו"ז.
    * מקום יחיד לשינוי הגדרות מערכת רוחביות.

* **`dateUtils.ts`:**
    * ספרייה לטיפול בתאריכים.
    * המרה לתאריך עברי (כולל חגים ופרשות).
    * פרמוט תאריכים לתצוגה נוחה (DD/MM/YYYY).

* **`supabaseClient.ts`:**
    * הגדרת החיבור לבסיס הנתונים (Supabase).
    * טיפול בטעינת משתני סביבה (.env).

---

### הערות לפיתוח עתידי
1.  **שימוש במודל:** אין להשתמש ב-`alert` או `window.confirm`. יש להשתמש ב-Hook המקומי `modal` ובקומפוננטה `<Modal />`.
2.  **טפסים:** כל שדה קלט חדש חייב להשתמש ב-`<Input />` מתוך `components/ui`.
3.  **כפתורים:** כל כפתור חייב להשתמש ב-`<Button />` עם ה-Variant המתאים.